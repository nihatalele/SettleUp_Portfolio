<h1>Expense Details</h1>

<p><strong>Description:</strong> <%= @expense.description %></p>
<p><strong>Amount:</strong> $<%= '%.2f' % @expense.amount %></p>
<p><strong>Date:</strong> <%= @expense.date.strftime("%B %d, %Y") %></p>
<p><strong>Paid by:</strong> <%= @participant.name %></p>
<p><strong>Shared with:</strong> <%= @expense.shared_participants.map(&:name).to_sentence %></p>

<br>

<% if @expense.expense_shares.any? %>
  <h2>Amounts Owed:</h2>
  <ul>
    <% @expense.expense_shares.each do |share| %>
      <li>
        <%= share.participant.name %> owes: $<%= '%.2f' % share.amount_owed %>
      </li>
    <% end %>
  </ul>
<% else %>
  <p>No expense shares recorded for this expense.</p>
<% end %>

<br>

<%= link_to "Edit", edit_trip_participant_expense_path(@trip, @participant, @expense) %> |
<%= link_to "Delete", trip_participant_expense_path(@trip, @participant, @expense), method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-danger" %> |
<%= link_to "Back to participant's expenses", trip_participant_expenses_path(@trip, @participant) %>